<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.0/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"vvegetables.github.io","root":"/","scheme":"Muse","version":"8.0.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}};
  </script>

  <meta name="description" content="personal blog">
<meta property="og:type" content="website">
<meta property="og:title" content="The way to CODE">
<meta property="og:url" content="https://vvegetables.github.io/index.html">
<meta property="og:site_name" content="The way to CODE">
<meta property="og:description" content="personal blog">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Chongxu Zhao">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://vvegetables.github.io/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>The way to CODE</title>
  






  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">The way to CODE</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">practice code every day</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>







</div>
        
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <section class="post-toc-wrap sidebar-panel">
      </section>
      <!--/noindex-->

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Chongxu Zhao</p>
  <div class="site-description" itemprop="description">personal blog</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">12</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">分类</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>



      </section>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">
      

      
    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://vvegetables.github.io/2020/11/01/%E8%BD%AF%E9%93%BE%E6%8E%A5%E5%92%8C%E7%A1%AC%E9%93%BE%E6%8E%A5%E7%9A%84%E5%8C%BA%E5%88%AB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Chongxu Zhao">
      <meta itemprop="description" content="personal blog">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="The way to CODE">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/01/%E8%BD%AF%E9%93%BE%E6%8E%A5%E5%92%8C%E7%A1%AC%E9%93%BE%E6%8E%A5%E7%9A%84%E5%8C%BA%E5%88%AB/" class="post-title-link" itemprop="url">软链接和硬链接的区别</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2020-11-01 15:00:32 / 修改时间：15:19:14" itemprop="dateCreated datePublished" datetime="2020-11-01T15:00:32+08:00">2020-11-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="什么是链接"><a href="#什么是链接" class="headerlink" title="什么是链接"></a>什么是链接</h3><blockquote>
<p>链接简单说实际上是一种文件共享的方式，是 POSIX 中的概念，主流文件系统都支持链接文件。</p>
</blockquote>
<h3 id="它是用来干什么的？"><a href="#它是用来干什么的？" class="headerlink" title="它是用来干什么的？"></a>它是用来干什么的？</h3><blockquote>
<p>你可以将链接简单地理解为 Windows 中常见的快捷方式（或是 OS X 中的替身），Linux 中常用它来解决一些库版本的问题，通常也会将一些目录层次较深的文件链接到一个更易访问的目录中。在这些用途上，我们通常会使用到软链接（也称符号链接）。</p>
</blockquote>
<h3 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h3><p>首先，从使用的角度讲，两者没有任何区别，都与正常的文件访问方式一样，支持读写，如果是可执行文件的话也可以直接执行。</p>
<p>那区别在哪呢？在底层的原理上。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 为了解释清楚，我们首先在自己的一个工作目录下创建一个文件，然后对这个文件进行链接的创建：</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> touch myfile &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;This is a plain text file.&quot;</span> &gt; myfile</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> cat myfile</span></span><br><span class="line"></span><br><span class="line">This is a plain text file.</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 现在我们创建了一个普通地不能再普通的文件了。然后我们对它创建一个硬链接，并查看一下当前目录</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ln myfile hard</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ls -li</span></span><br><span class="line"></span><br><span class="line">25869085 -rw-r--r-- 2 unixzii staff 27 7 8 17:39 hard</span><br><span class="line">25869085 -rw-r--r-- 2 unixzii staff 27 7 8 17:39 myfile</span><br></pre></td></tr></table></figure>
<p>在 ls 结果的最左边一列，是文件的 inode 值，你可以简单把它想成 C 语言中的指针。它指向了物理硬盘的一个区块，事实上文件系统会维护一个引用计数，只要有文件指向这个区块，它就不会从硬盘上消失。</p>
<p>你也看到了，这两个文件就如同一个文件一样，inode 值相同，都指向同一个区块。</p>
<p>然后我们修改一下刚才创建的 hard 链接文件：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">echo</span> <span class="string">&quot;New line&quot;</span> &gt;&gt; hard</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> cat myfile</span></span><br><span class="line"></span><br><span class="line">This is a plain text file.</span><br><span class="line">New line</span><br></pre></td></tr></table></figure>
<p>可以看到，这两个文件果真就是一个文件。 下面我们看看软链接（也就是符号链接）和它有什么区别。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ln -s myfile soft</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ls -li</span></span><br><span class="line"></span><br><span class="line">25869085 -rw-r--r-- 2 unixzii staff 36 7 8 17:45 hard</span><br><span class="line">25869085 -rw-r--r-- 2 unixzii staff 36 7 8 17:45 myfile</span><br><span class="line">25869216 lrwxr-xr-x 1 unixzii staff 6 7 8 17:47 soft -&gt; myfile</span><br></pre></td></tr></table></figure>
<p>诶，你会发现，这个软链接的 inode 竟然不一样啊，并且它的文件属性上也有一个 l 的 flag，这就说明它与之前我们创建的两个文件根本不是一个类型。</p>
<p>下面我们试着删除 myfile 文件，然后分别输出软硬链接的文件内容：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> rm myfile</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> cat hard</span></span><br><span class="line"></span><br><span class="line">This is a plain text file.</span><br><span class="line">New line</span><br><span class="line"><span class="meta">$</span><span class="bash"> cat soft</span></span><br><span class="line"></span><br><span class="line">cat: soft: No such file or directory</span><br></pre></td></tr></table></figure>
<p>之前的硬链接没有丝毫地影响，因为它 inode 所指向的区块由于有一个硬链接在指向它，所以这个区块仍然有效，并且可以访问到。 然而软链接的 inode 所指向的内容实际上是保存了一个绝对路径，当用户访问这个文件时，系统会自动将其替换成其所指的文件路径，然而这个文件已经被删除了，所以自然就会显示无法找到该文件了。</p>
<p>为验证这一猜想，我们再向这个软链接写点东西：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">echo</span> <span class="string">&quot;Something&quot;</span> &gt;&gt; soft</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ls</span></span><br><span class="line"></span><br><span class="line">hard myfile soft</span><br></pre></td></tr></table></figure>
<p>可以看到，刚才删除的 myfile 文件竟然又出现了！这就说明，当我们写入访问软链接时，系统自动将其路径替换为其所代表的绝对路径，并直接访问那个路径了</p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>硬链接： 与普通文件没什么不同，inode 都指向同一个文件在硬盘中的区块<br>软链接： 保存了其代表的文件的绝对路径，是另外一种文件，在硬盘上有独立的区块，访问时替换自身路径。</p>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><p><a target="_blank" rel="noopener" href="https://www.linuxprobe.com/soft-and-hard-links.html">引用链接</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://vvegetables.github.io/2020/11/01/more/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Chongxu Zhao">
      <meta itemprop="description" content="personal blog">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="The way to CODE">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/01/more/" class="post-title-link" itemprop="url">more</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2020-11-01 12:00:58 / 修改时间：12:20:55" itemprop="dateCreated datePublished" datetime="2020-11-01T12:00:58+08:00">2020-11-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><blockquote>
<p>more命令，功能类似 cat ，cat命令是整个文件的内容从上到下显示在屏幕上。 more会以一页一页的显示方便使用者逐页阅读，而最基本的指令就是按空白键（space）就往下一页显示，按 b 键就会往回（back）一页显示，而且还有搜寻字串的功能 。more命令从前向后读取文件，因此在启动时就加载整个文件。</p>
</blockquote>
<h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">more [-dlfpcsu] [-num] [+/pattern] [+linenum] [fileNames..]</span><br></pre></td></tr></table></figure>

<h3 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h3><table>
<thead>
<tr>
<th>命令</th>
<th>解释</th>
</tr>
</thead>
<tbody><tr>
<td>-n</td>
<td>每屏显示n行</td>
</tr>
<tr>
<td>+n</td>
<td>从笫n行开始显示</td>
</tr>
<tr>
<td>+/pattern</td>
<td>在每个档案显示前搜寻该字串（pattern），然后从该字串前两行之后开始显示</td>
</tr>
<tr>
<td>-c</td>
<td>跟 -p 相似，不同的是先显示内容再清除其他旧资料</td>
</tr>
<tr>
<td>-d</td>
<td>提示使用者，在画面下方显示 [Press space to continue, ‘q’ to quit.] ，如果使用者按错键，则会显示 [Press ‘h’ for instructions.] 而不是 ‘哔’ 声</td>
</tr>
<tr>
<td>-l</td>
<td>取消遇见特殊字元 ^L（送纸字元）时会暂停的功能</td>
</tr>
<tr>
<td>-f</td>
<td>计算行数时，以实际上的行数，而非自动换行过后的行数（有些单行字数太长的会被扩展为两行或两行以上）</td>
</tr>
<tr>
<td>-p</td>
<td>不以卷动的方式显示每一页，而是先清除萤幕后再显示内容</td>
</tr>
<tr>
<td>-s</td>
<td>当遇到有连续两行以上的空白行，就代换为一行的空白行</td>
</tr>
<tr>
<td>-u</td>
<td>不显示下引号 （根据环境变数 TERM 指定的 terminal 而有所不同）</td>
</tr>
<tr>
<td>-s</td>
<td>当遇到有连续两行以上的空白行，就代换为一行的空白行</td>
</tr>
</tbody></table>
<h3 id="常用操作命令"><a href="#常用操作命令" class="headerlink" title="常用操作命令"></a>常用操作命令</h3><table>
<thead>
<tr>
<th>命令</th>
<th>解释</th>
</tr>
</thead>
<tbody><tr>
<td>Enter</td>
<td>向下n行，需要定义。默认为1行</td>
</tr>
<tr>
<td>Ctrl+F</td>
<td>向下滚动一屏</td>
</tr>
<tr>
<td>空格键</td>
<td>向下滚动一屏</td>
</tr>
<tr>
<td>Ctrl+B</td>
<td>返回上一屏</td>
</tr>
<tr>
<td>=</td>
<td>输出当前行的行号</td>
</tr>
<tr>
<td>:f</td>
<td>输出文件名和当前行的行号</td>
</tr>
<tr>
<td>V</td>
<td>调用vi编辑器</td>
</tr>
<tr>
<td>!命令</td>
<td>调用Shell，并执行命令</td>
</tr>
<tr>
<td>q</td>
<td>退出more</td>
</tr>
</tbody></table>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://vvegetables.github.io/2020/11/01/nl/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Chongxu Zhao">
      <meta itemprop="description" content="personal blog">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="The way to CODE">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/01/nl/" class="post-title-link" itemprop="url">nl</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2020-11-01 11:28:01 / 修改时间：11:53:10" itemprop="dateCreated datePublished" datetime="2020-11-01T11:28:01+08:00">2020-11-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><blockquote>
<p>nl命令在linux系统中用来计算文件中行号。nl 可以将输出的文件内容自动的加上行号！其默认的结果与 cat -n 有点不太一样， nl 可以将行号做比较多的显示设计，包括位数与是否自动补齐 0 等等的功能。 </p>
</blockquote>
<h4 id="1-命令格式"><a href="#1-命令格式" class="headerlink" title="1. 命令格式"></a>1. 命令格式</h4><pre><code>nl [选项] [文件]</code></pre>
<h4 id="2-命令参数"><a href="#2-命令参数" class="headerlink" title="2. 命令参数"></a>2. 命令参数</h4><pre><code>- -b ： 指定行号的方式：
- -b a &lt;表示不论是否为空行，也同样列出行号(类似 cat -n)&gt;
- -b t &lt;如果有空行，空的那一行不要列出行号(默认值)&gt;
- -n : 列出行号表示的方法：
- -n ln &lt;行号在萤幕的最左方显示&gt;
- -n rn &lt;行号在自己栏位的最右方显示，且不加 0&gt;
- -n rz &lt;行号在自己栏位的最右方显示，且加 0&gt;
- -w(数字) &lt;行号栏位的占用的位数&gt;
- -p &lt;在逻辑定界符处不重新开始计算&gt;
- -i(数值) &lt;设置每一行篇历后的自动递增值&gt;
- -h(样式) &lt;使用指定样式编号文件的页眉行目&gt;
- -f(样式) &lt;使用指定样式编号文件的页脚行目&gt;
- -v(数字) &lt;每个逻辑页上的第一行的行号&gt;
- -s(字符串) &lt;可能的话在行号后添加字符串&gt;</code></pre>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://vvegetables.github.io/2020/10/30/cat/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Chongxu Zhao">
      <meta itemprop="description" content="personal blog">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="The way to CODE">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/30/cat/" class="post-title-link" itemprop="url">cat</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2020-10-30 11:30:18 / 修改时间：12:00:44" itemprop="dateCreated datePublished" datetime="2020-10-30T11:30:18+08:00">2020-10-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><blockquote>
<p>cat命令的用途是连接文件或标准输入并打印。这个命令常用来显示文件内容，或者将几个文件连接起来显示，或者从标准输入读取内容并显示，它常与重定向符号配合使用。</p>
</blockquote>
<h3 id="命令功能"><a href="#命令功能" class="headerlink" title="命令功能"></a>命令功能</h3><ol>
<li>一次显示整个文件: cat filename</li>
<li>从键盘创建一个文件：cat &gt; filename (只能创建新文件，不能编辑已经存在的文件)</li>
<li>将几个文件合并未一个文件：cat file1 file2 &gt; file3<h4 id="Options"><a href="#Options" class="headerlink" title="Options"></a>Options</h4></li>
</ol>
<table>
<thead>
<tr>
<th>选项</th>
<th>解释</th>
</tr>
</thead>
<tbody><tr>
<td>-A, –show-all</td>
<td>等价于 -vET</td>
</tr>
<tr>
<td>-b, –number-nonblank</td>
<td>对非空输出行编号</td>
</tr>
<tr>
<td>-e</td>
<td>等价于 -vE</td>
</tr>
<tr>
<td>-E, –show-ends</td>
<td>在每行结束处显示 $</td>
</tr>
<tr>
<td>-n, –number</td>
<td>对输出的所有行编号,由1开始对所有输出的行数编号</td>
</tr>
<tr>
<td>-s, –squeeze-blank</td>
<td>有连续两行以上的空白行，就代换为一行的空白行</td>
</tr>
<tr>
<td>-t</td>
<td>与 -vT 等价</td>
</tr>
<tr>
<td>-T, –show-tabs</td>
<td>将跳格字符显示为 ^I</td>
</tr>
<tr>
<td>-u</td>
<td>(被忽略)</td>
</tr>
<tr>
<td>-v, –show-nonprinting</td>
<td>使用 ^ 和 M- 引用，除了 LFD 和 TAB 之外</td>
</tr>
</tbody></table>
<h3 id="DEMO"><a href="#DEMO" class="headerlink" title="DEMO"></a>DEMO</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> cat &gt;log.txt &lt;&lt;EOF</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> Hello</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> World</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> Linux</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> PWD=$(<span class="built_in">pwd</span>)</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> EOF</span></span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat -n log2012.log &gt; log.log</span><br></pre></td></tr></table></figure>

<h3 id="tac-反向列示"><a href="#tac-反向列示" class="headerlink" title="tac (反向列示)"></a>tac (反向列示)</h3><blockquote>
<p>tac 是将 cat 反写过来，所以他的功能就跟 cat 相反， cat 是由第一行到最后一行连续显示在萤幕上，而 tac 则是由最后一行到第一行反向在萤幕上显示出来！</p>
</blockquote>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://vvegetables.github.io/2020/10/26/cp/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Chongxu Zhao">
      <meta itemprop="description" content="personal blog">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="The way to CODE">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/26/cp/" class="post-title-link" itemprop="url">cp</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2020-10-26 13:36:47 / 修改时间：13:43:37" itemprop="dateCreated datePublished" datetime="2020-10-26T13:36:47+08:00">2020-10-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><blockquote>
<p>cp命令可以理解为英文单词copy的缩写，其功能为复制文件或目录。cp命令可以将多个文件复制到一个具体的文件名或一个已经存在的目录下，也可以同时复制多个文件到一个指定的目录中。</p>
</blockquote>
<table>
<thead>
<tr>
<th align="left">常用参数</th>
<th>解释</th>
</tr>
</thead>
<tbody><tr>
<td align="left">-f</td>
<td>若目标文件已存在，则会直接覆盖原文件</td>
</tr>
<tr>
<td align="left">-i</td>
<td>若目标文件已存在，则会询问是否覆盖</td>
</tr>
<tr>
<td align="left">-p</td>
<td>保留源文件或目录的所有属性</td>
</tr>
<tr>
<td align="left">-r</td>
<td>递归复制文件和目录</td>
</tr>
<tr>
<td align="left">-d</td>
<td>当复制符号连接时，把目标文件或目录也建立为符号连接，并指向与源文件或目录连接的原始文件或目录</td>
</tr>
<tr>
<td align="left">-l</td>
<td>对源文件建立硬连接，而非复制文件</td>
</tr>
<tr>
<td align="left">-s</td>
<td>对源文件建立符号连接，而非复制文件</td>
</tr>
<tr>
<td align="left">-b</td>
<td>覆盖已存在的文件目标前将目标文件备份</td>
</tr>
<tr>
<td align="left">-v</td>
<td>详细显示cp命令执行的操作过程</td>
</tr>
<tr>
<td align="left">-a</td>
<td>等价于“dpr”选项</td>
</tr>
</tbody></table>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://vvegetables.github.io/2020/10/26/shell-params/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Chongxu Zhao">
      <meta itemprop="description" content="personal blog">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="The way to CODE">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/26/shell-params/" class="post-title-link" itemprop="url">shell params</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2020-10-26 10:46:41 / 修改时间：10:55:02" itemprop="dateCreated datePublished" datetime="2020-10-26T10:46:41+08:00">2020-10-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><blockquote>
<p>shell 脚本中的参数</p>
</blockquote>
<ol>
<li>$0<blockquote>
<p>当前脚本的文件名</p>
</blockquote>
</li>
<li>$n<blockquote>
<p>传递给脚本或函数的参数。n 是一个数字，表示第几个参数。例如，第一个参数是$1，第二个参数是$2。第十二个参数${12}</p>
</blockquote>
</li>
<li>$#<blockquote>
<p>传递给脚本或者函数的参数个数</p>
</blockquote>
</li>
<li>$*<blockquote>
<p>传递给脚本或者函数的所有参数</p>
</blockquote>
</li>
<li>$@<blockquote>
<p>传递给脚本或者函数的所有参数</p>
</blockquote>
</li>
<li>$*$@的区别<blockquote>
<p>$* 和 $@ 都表示传递给函数或脚本的所有参数，不被双引号(“ “)包含时，都以”$1” “$2” …”$n” 的形式输出所有参数;当它们被双引号(“ “)包含时，”$*” 会将所有的参数作为一个整体，以”$1 $2 … $n”;的形式输出所有参数。”@” 会将各个参数分开，以”$1” “$2” … “$n” 的形式输出所有参数。</p>
</blockquote>
</li>
<li>$?<blockquote>
<p>上个命令的退出状态，或函数的返回值</p>
</blockquote>
</li>
<li>$$<blockquote>
<p>当前shell进程ID。对于shell脚本，就是这些脚本所在的进程ID</p>
</blockquote>
</li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://vvegetables.github.io/2020/10/25/xargs/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Chongxu Zhao">
      <meta itemprop="description" content="personal blog">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="The way to CODE">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/25/xargs/" class="post-title-link" itemprop="url">xargs</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2020-10-25 18:06:33 / 修改时间：18:28:16" itemprop="dateCreated datePublished" datetime="2020-10-25T18:06:33+08:00">2020-10-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><blockquote>
<p>xargs命令的作用，是将标准输入转为命令行参数，通常用于管道命令。因为大多数命令都不接受标准输入作为参数，所以需要xargs。</p>
</blockquote>
<h4 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;hello world&quot; | echo # error</span><br><span class="line">echo &quot;hello world&quot; | xargs echo # correct</span><br></pre></td></tr></table></figure>

<h3 id="xargs格式"><a href="#xargs格式" class="headerlink" title="xargs格式"></a>xargs格式</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xargs [-options] [command]</span><br></pre></td></tr></table></figure>
<p>xargs后面的命令默认是echo</p>
<h4 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h4><p>-d 更换分隔符（默认将换行符和空格作为分隔符）<br>-p 打印出需要执行的命令，询问用户是否要执行<br>-t 打印出要执行的命令，直接执行，不需要交互确认<br>-o 用null当作分隔符<br>-l 指定多少行作为一个命令行参数<br>-n 指定每次将多少项，作为命令行参数<br>-I 指定每一项命令行参数的代替字符串</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat foo.txt | xargs -I file sh -c &#39;echo file; mkdir file&#39;</span><br></pre></td></tr></table></figure>
<p>–max-procs 默认只用一个进程执行命令，0表示不限制进程数；</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://vvegetables.github.io/2020/10/24/top/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Chongxu Zhao">
      <meta itemprop="description" content="personal blog">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="The way to CODE">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/24/top/" class="post-title-link" itemprop="url">top</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2020-10-24 18:48:05 / 修改时间：19:59:56" itemprop="dateCreated datePublished" datetime="2020-10-24T18:48:05+08:00">2020-10-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><blockquote>
<p>top命令是自带的一个系统信息查看工具，能够实时显示系统中各个进程的资源占用状况。</p>
</blockquote>
<h3 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h3><ul>
<li><p>命令格式</p>
<p>  top [参数]</p>
</li>
<li><p>命令参数</p>
<p>  -b 批处理<br>  -c 显示完整的命令<br>  -I 忽略失效的进程<br>  -s 保密模式<br>  -S 累计模式<br>  -i&lt;时间&gt; 设置时间间隔<br>  -u&lt;用户名&gt; 指定用户名<br>  -p&lt;进程号&gt; 指定进程<br>  -n&lt;次数&gt; 循环显示的次数</p>
</li>
</ul>
<h3 id="数值板解释"><a href="#数值板解释" class="headerlink" title="数值板解释"></a>数值板解释</h3><ol>
<li><p>第一行，任务队列信息，同 uptime 命令的执行结果</p>
<ul>
<li>14:06:23 — 当前系统时间</li>
<li>2 users — 当前有2个用户登录系统</li>
<li>load average: 1.15, 1.42, 1.44 — load average后面的三个数分别是1分钟、5分钟、15分钟的负载情况。</li>
<li>load average数据是每隔5秒钟检查一次活跃的进程数，然后按特定算法计算出的数值。如果这个数除以逻辑CPU的数量，结果高于5的时候就表明系统在超负荷运转了。</li>
</ul>
</li>
<li><p>第二行，Tasks — 任务（进程）</p>
<ul>
<li>total - 进程总数</li>
<li>running - 运行的进程数</li>
<li>sleeping - 休眠的进程数</li>
<li>stop - 停止的进程数</li>
<li>zomie - 僵尸进程数</li>
</ul>
</li>
<li><p>第三行，cpu状态</p>
<ul>
<li>us - 用户空间占用cpu百分比</li>
<li>sy - 内核空间占用cpu百分比</li>
<li>ni - 改变过优先级的进程占用cpu的百分比</li>
<li>id - 空闲cpu百分比</li>
<li>wa - IO等待占用cpu的百分比</li>
<li>hi - 硬中断占用cpu的百分比</li>
<li>si - 软中断占用cpu的百分比</li>
</ul>
</li>
<li><p>第四行，内存状态</p>
<ul>
<li>total - 物理内存总量</li>
<li>used - 使用中的内存总量</li>
<li>free - 空闲内存总量</li>
<li>buffers - 缓存的内存量</li>
</ul>
</li>
<li><p>第五行，swap交换分区信息</p>
<ul>
<li>total - 交换区总量</li>
<li>used - 使用中的交换区总量</li>
<li>free - 空闲交换区总量</li>
<li>cached - 缓冲的交换区总量</li>
</ul>
</li>
<li><p>第七行，各进程的状态监控</p>
<ul>
<li>PID — 进程id</li>
<li>USER — 进程所有者</li>
<li>PR — 进程优先级</li>
<li>NI — nice值。负值表示高优先级，正值表示低优先级</li>
<li>VIRT — 进程使用的虚拟内存总量，单位kb。VIRT=SWAP+RES</li>
<li>RES — 进程使用的、未被换出的物理内存大小，单位kb。RES=CODE+DATA</li>
<li>SHR — 共享内存大小，单位kb</li>
<li>S — 进程状态。D=不可中断的睡眠状态 R=运行 S=睡眠 T=跟踪/停止 Z=僵尸进程</li>
<li>%CPU — 上次更新到现在的CPU时间占用百分比</li>
<li>%MEM — 进程使用的物理内存百分比</li>
<li>TIME+ — 进程使用的CPU时间总计，单位1/100秒</li>
<li>COMMAND — 进程名称（命令名/命令行）</li>
</ul>
</li>
</ol>
<h3 id="键盘操作"><a href="#键盘操作" class="headerlink" title="键盘操作"></a>键盘操作</h3><ul>
<li>在top基本视图中，按键盘数字“1”，可监控每个逻辑CPU的状况</li>
<li>敲击键盘“b”、“y”（打开/关闭加亮效果）</li>
<li>敲击键盘“x”（打开/关闭排序列的加亮效果）,通过”shift + &gt;”或”shift + &lt;”可以向右或左改变排序列</li>
</ul>
<h3 id="交互命令"><a href="#交互命令" class="headerlink" title="交互命令"></a>交互命令</h3><blockquote>
<p>在top 命令执行过程中可以使用的一些交互命令。这些命令都是单字母的，如果在命令行中使用了s 选项， 其中一些命令可能会被屏蔽。</p>
</blockquote>
<ul>
<li>h 显示帮助画面，给出一些简短的命令总结说明</li>
<li>k 终止一个进程。</li>
<li>i 忽略闲置和僵死进程。这是一个开关式命令。</li>
<li>q 退出程序</li>
<li>r 重新安排一个进程的优先级别</li>
<li>S 切换到累计模式</li>
<li>s 改变两次刷新之间的延迟时间（单位为s），如果有小数，就换算成m s。输入0值则系统将不断刷新，默认值是5 s</li>
<li>f或者F 从当前显示中添加或者删除项目</li>
<li>o或者O 改变显示项目的顺序</li>
<li>l 切换显示平均负载和启动时间信息</li>
<li>m 切换显示内存信息</li>
<li>t 切换显示进程和CPU状态信息</li>
<li>c 切换显示命令名称和完整命令行</li>
<li>M 根据驻留内存大小进行排序</li>
<li>P 根据CPU使用百分比大小进行排序</li>
<li>T 根据时间/累计时间进行排序</li>
<li>W 将当前设置写入~/.toprc文件中</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://vvegetables.github.io/2020/10/24/htpasswd/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Chongxu Zhao">
      <meta itemprop="description" content="personal blog">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="The way to CODE">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/24/htpasswd/" class="post-title-link" itemprop="url">htpasswd</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2020-10-24 17:23:21 / 修改时间：17:31:13" itemprop="dateCreated datePublished" datetime="2020-10-24T17:23:21+08:00">2020-10-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><blockquote>
<p>htpasswd 是开源 http 服务器 apache httpd 的一个命令工具，用于生成 http 基本认证的密码文件。</p>
</blockquote>
<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><ol>
<li>ubuntu<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install apache2-utils</span><br></pre></td></tr></table></figure></li>
<li>centos<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install httpd</span><br></pre></td></tr></table></figure>
<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><h4 id="参数说明"><a href="#参数说明" class="headerlink" title="参数说明"></a>参数说明</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">路径： 文件存储地址</span><br><span class="line">用户： 用户名</span><br><span class="line">密码： 用户的密码</span><br></pre></td></tr></table></figure>
<h4 id="选项说明"><a href="#选项说明" class="headerlink" title="选项说明"></a>选项说明</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">-c 创建passwdfile.如果passwdfile 已经存在,那么它会重新写入并删去原有内容.</span><br><span class="line">-n 不更新passwordfile，只将加密后的用户名密码显示在屏幕上；</span><br><span class="line">-m 默认采用MD5算法对密码进行加密</span><br><span class="line">-d 采用CRYPT算法对密码进行加密</span><br><span class="line">-p 不对密码进行进行加密，即使用普通文本格式的密码</span><br><span class="line">-s 采用SHA算法对密码进行加密</span><br><span class="line">-b 命令行中一并输入用户名和密码而不是根据提示输入密码，可以看见明文，不需要交互</span><br><span class="line">-D 删除指定的用户</span><br></pre></td></tr></table></figure>
<h4 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">htpasswd -cbs pass.db username password</span><br></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://vvegetables.github.io/2020/10/14/open-files-too-many/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Chongxu Zhao">
      <meta itemprop="description" content="personal blog">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="The way to CODE">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/14/open-files-too-many/" class="post-title-link" itemprop="url">错误异常too many open files解决办法</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-10-14 12:58:14" itemprop="dateCreated datePublished" datetime="2020-10-14T12:58:14+08:00">2020-10-14</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2020-10-24 17:19:26" itemprop="dateModified" datetime="2020-10-24T17:19:26+08:00">2020-10-24</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h4 id="产生原因"><a href="#产生原因" class="headerlink" title="产生原因"></a>产生原因</h4><p>too many open files是Linux系统中常见的错误，从字面意思上看就是说程序打开的文件数过多，不过这里的files不单是文件的意思，也包括打开的通讯链接(比如socket)，正在监听的端口等等，所以有时候也可以叫做句柄(handle)，这个错误通常也可以叫做句柄数超出系统限制。因为每个用户有规定打开的文件数量。</p>
<h4 id="查看系统中设置的值"><a href="#查看系统中设置的值" class="headerlink" title="查看系统中设置的值"></a>查看系统中设置的值</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cat /proc/sys/fs/file-max</span><br><span class="line">or</span><br><span class="line">ulimit -a or</span><br><span class="line">ulimit -n</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="查看每个进程的句柄"><a href="#查看每个进程的句柄" class="headerlink" title="查看每个进程的句柄"></a>查看每个进程的句柄</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsof -n|awk &#x27;&#123;print $2&#125;&#x27;|sort|uniq -c|sort -nr|more</span><br></pre></td></tr></table></figure>
<h4 id="查看系统打开句柄最大数量"><a href="#查看系统打开句柄最大数量" class="headerlink" title="查看系统打开句柄最大数量"></a>查看系统打开句柄最大数量</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">more /proc/sys/fs/file-max</span><br></pre></td></tr></table></figure>
<h4 id="查看打开句柄总数"><a href="#查看打开句柄总数" class="headerlink" title="查看打开句柄总数"></a>查看打开句柄总数</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsof|awk &#x27;&#123;print $2&#125;&#x27;|wc -l</span><br></pre></td></tr></table></figure>

<h4 id="解决方式"><a href="#解决方式" class="headerlink" title="解决方式"></a>解决方式</h4><h5 id="1-命令方式"><a href="#1-命令方式" class="headerlink" title="1. 命令方式"></a>1. 命令方式</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ulimit -n 2048</span><br></pre></td></tr></table></figure>

<h5 id="2-修改系统配置文件"><a href="#2-修改系统配置文件" class="headerlink" title="2. 修改系统配置文件"></a>2. 修改系统配置文件</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/security/limits.conf  </span><br><span class="line"><span class="meta">#</span><span class="bash">在最后加入  </span></span><br><span class="line">* soft nofile 4096  </span><br><span class="line">* hard nofile 4096  </span><br><span class="line"><span class="meta">#</span><span class="bash">或者只加入</span></span><br><span class="line"></span><br><span class="line"> * - nofile 8192</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">最前的 * 表示所有用户，可根据需要设置某一用户，例如</span></span><br><span class="line"></span><br><span class="line">roy soft nofile 8192  </span><br><span class="line">roy hard nofile 8192  </span><br><span class="line"><span class="meta">#</span><span class="bash">注意”nofile”项有两个可能的限制措施。就是项下的hard和soft。 要使修改过得最大打开文件数生效，必须对这两种限制进行设定。 如果使用”-“字符设定, 则hard和soft设定会同时被设定。</span></span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>





  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



      

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

    </div>
  </main>

  <footer class="footer">
    <div class="footer-inner">
      

      

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Chongxu Zhao</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="//cdn.jsdelivr.net/npm/animejs@3.2.0/lib/anime.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  


















  








  

  

</body>
</html>
